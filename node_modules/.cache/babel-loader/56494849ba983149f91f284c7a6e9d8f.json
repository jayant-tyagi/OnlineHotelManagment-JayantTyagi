{"ast":null,"code":"import _slicedToArray from \"/Users/tyagi/Downloads/HotelManagementSystemFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tyagi/Downloads/HotelManagementSystemFrontend/src/Services/Receptionist/ViewBookingResult.jsx\";\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport base_url from \"../../api/bootapi\";\nimport { useParams } from 'react-router-dom';\nimport Bookings from \"./Bookings\";\nimport Header from \"../../pages/Header\";\n\nvar ViewBookingResult = function ViewBookingResult() {\n  useEffect(function () {\n    document.title = \"All Bookings\";\n  }, []);\n  var val = useParams().roomno; // function to call server\n\n  var getAllBookingsFromServer = function getAllBookingsFromServer(val) {\n    axios.get(\"\".concat(base_url, \"MakeReservation/viewbookings/\").concat(val), {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Headers\": \"*\",\n        'Content-Type': 'application/json',\n        \"Access-Control-Allow-Methods\": \"*\"\n      }\n    }).then(function (response) {\n      if (response.data != null) {\n        //success\n        console.log(response.data); //toast(\"Data Fetched from Backend\");\n\n        setBookings(response.data);\n      } else {\n        alert(\"No Booking Found\");\n        window.open(\"http://localhost:3000/receptionist/viewbookings\", \"_top\");\n      }\n    }, function (error) {\n      //for errors\n      console.log(error); // toast.error(\"Data can't be Fetched from Backend\");\n    });\n  };\n\n  useEffect(function () {\n    getAllBookingsFromServer(val);\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      bookings = _useState2[0],\n      setBookings = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center my-3\",\n    style: {\n      fontFamily: \"fantasy\",\n      fontStyle: \"italic\",\n      textDecoration: \"underline\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"All Bookings\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), bookings.length > 0 ? bookings.map(function (item) {\n    return /*#__PURE__*/React.createElement(Bookings, {\n      key: item.id,\n      bookings: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    });\n  }) : \"No Booking Present\");\n};\n\nexport default ViewBookingResult;","map":{"version":3,"names":["React","useState","useEffect","axios","base_url","useParams","Bookings","Header","ViewBookingResult","document","title","val","roomno","getAllBookingsFromServer","get","headers","then","response","data","console","log","setBookings","alert","window","open","error","bookings","fontFamily","fontStyle","textDecoration","length","map","item","id"],"sources":["/Users/tyagi/Downloads/HotelManagementSystemFrontend/src/Services/Receptionist/ViewBookingResult.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport base_url from \"../../api/bootapi\";\nimport { useParams } from 'react-router-dom';\nimport Bookings from \"./Bookings\";\nimport Header from \"../../pages/Header\";\n\nconst ViewBookingResult = () => {\n    useEffect(() => {\n        document.title = \"All Bookings\"\n    }, []);\n\n    var val = useParams().roomno;\n\n    // function to call server\n    const getAllBookingsFromServer = (val) => {\n        axios.get(`${base_url}MakeReservation/viewbookings/${val}`, {\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Headers\": \"*\",\n                'Content-Type': 'application/json',\n                \"Access-Control-Allow-Methods\": \"*\"\n            }\n        }).then(\n            (response) => {\n                if (response.data != null) {\n                    //success\n                    console.log(response.data);\n                    //toast(\"Data Fetched from Backend\");\n                    setBookings(response.data);\n                } else {\n                    alert(\"No Booking Found\");\n                    window.open(\"http://localhost:3000/receptionist/viewbookings\", \"_top\");\n                }\n\n            },\n            (error) => {\n                //for errors\n                console.log(error);\n                // toast.error(\"Data can't be Fetched from Backend\");\n            }\n        );\n    };\n\n\n    useEffect(() => {\n        getAllBookingsFromServer(val);\n    }, []);\n\n    const [bookings, setBookings] = useState([]);\n\n    return (\n        <div>\n            <div> < Header /> </div>\n            <h2 className=\"text-center my-3\" style={{ fontFamily: \"fantasy\", fontStyle: \"italic\", textDecoration: \"underline\" }}>All Bookings</h2>\n            <br></br>\n            {/* <h5><u>List of Bookings for this room is as follows :</u></h5> */}\n            {\n                bookings.length > 0\n                    ? bookings.map((item) =>\n                        <Bookings key={item.id} bookings={item} />)\n                    : \"No Booking Present\"\n            }\n        </div>\n    );\n};\n\nexport default ViewBookingResult;"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAC5BN,SAAS,CAAC,YAAM;IACZO,QAAQ,CAACC,KAAT,GAAiB,cAAjB;EACH,CAFQ,EAEN,EAFM,CAAT;EAIA,IAAIC,GAAG,GAAGN,SAAS,GAAGO,MAAtB,CAL4B,CAO5B;;EACA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACF,GAAD,EAAS;IACtCR,KAAK,CAACW,GAAN,WAAaV,QAAb,0CAAqDO,GAArD,GAA4D;MACxDI,OAAO,EAAE;QACL,+BAA+B,GAD1B;QAEL,gCAAgC,GAF3B;QAGL,gBAAgB,kBAHX;QAIL,gCAAgC;MAJ3B;IAD+C,CAA5D,EAOGC,IAPH,CAQI,UAACC,QAAD,EAAc;MACV,IAAIA,QAAQ,CAACC,IAAT,IAAiB,IAArB,EAA2B;QACvB;QACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EAFuB,CAGvB;;QACAG,WAAW,CAACJ,QAAQ,CAACC,IAAV,CAAX;MACH,CALD,MAKO;QACHI,KAAK,CAAC,kBAAD,CAAL;QACAC,MAAM,CAACC,IAAP,CAAY,iDAAZ,EAA+D,MAA/D;MACH;IAEJ,CAnBL,EAoBI,UAACC,KAAD,EAAW;MACP;MACAN,OAAO,CAACC,GAAR,CAAYK,KAAZ,EAFO,CAGP;IACH,CAxBL;EA0BH,CA3BD;;EA8BAvB,SAAS,CAAC,YAAM;IACZW,wBAAwB,CAACF,GAAD,CAAxB;EACH,CAFQ,EAEN,EAFM,CAAT;;EAtC4B,gBA0CIV,QAAQ,CAAC,EAAD,CA1CZ;EAAA;EAAA,IA0CrByB,QA1CqB;EAAA,IA0CXL,WA1CW;;EA4C5B,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBAAM,oBAAE,MAAF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAN,MADJ,eAEI;IAAI,SAAS,EAAC,kBAAd;IAAiC,KAAK,EAAE;MAAEM,UAAU,EAAE,SAAd;MAAyBC,SAAS,EAAE,QAApC;MAA8CC,cAAc,EAAE;IAA9D,CAAxC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAFJ,eAGI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAHJ,EAMQH,QAAQ,CAACI,MAAT,GAAkB,CAAlB,GACMJ,QAAQ,CAACK,GAAT,CAAa,UAACC,IAAD;IAAA,oBACX,oBAAC,QAAD;MAAU,GAAG,EAAEA,IAAI,CAACC,EAApB;MAAwB,QAAQ,EAAED,IAAlC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADW;EAAA,CAAb,CADN,GAGM,oBATd,CADJ;AAcH,CA1DD;;AA4DA,eAAexB,iBAAf"},"metadata":{},"sourceType":"module"}