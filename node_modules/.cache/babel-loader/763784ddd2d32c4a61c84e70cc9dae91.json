{"ast":null,"code":"import _objectSpread from \"/Users/tyagi/Downloads/HotelManagementSystemFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/tyagi/Downloads/HotelManagementSystemFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tyagi/Downloads/HotelManagementSystemFrontend/src/pages/Login.jsx\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Container, Form, FormGroup, Input } from \"reactstrap\";\nimport axios from \"axios\";\nimport base_url from \"../api/bootapi\";\n\nvar Login = function Login() {\n  useEffect(function () {\n    document.title = \"Login\";\n  }, []);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginData = _useState2[0],\n      setLoginData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 1),\n      jwtData = _useState4[0]; // form handler function\n\n\n  var handleForm = function handleForm(e) {\n    console.log(loginData);\n    sendDataToServer(loginData);\n    e.preventDefault();\n  }; // function to post data on backend\n\n\n  var sendDataToServer = function sendDataToServer(data) {\n    axios.post(\"\".concat(base_url, \"ManageLogin/authenticate\"), data, {\n      headers: {\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n        \"Access-Control-Allow-Methods\": \"*\"\n      }\n    }).then(function (response) {\n      if (response.data.jwt != null) {\n        // alert(\"jwt created successfully\");\n        jwtData.jwt = response.data.jwt;\n        axios.get(\"\".concat(base_url, \"ManageLogin/login\"), {\n          headers: {\n            \"Access-Control-Allow-Headers\": \"Content-Type\",\n            \"Access-Control-Allow-Methods\": \"*\",\n            \"Authorization\": \"Bearer \".concat(response.data.jwt)\n          }\n        }).then(function (response) {\n          console.log(response);\n          console.log(\"success\");\n          var role = response.data;\n          console.log(role);\n\n          if (role === \"ROLE_OWNER\") {\n            axios.post(\"\".concat(base_url, \"ManageJwt/addjwt\"), {\n              \"id\": 1,\n              \"jwt\": \"\".concat(jwtData.jwt)\n            }, {\n              headers: {\n                \"Access-Control-Allow-Headers\": \"Content-Type\",\n                \"Access-Control-Allow-Methods\": \"*\"\n              }\n            }).then(function (response) {\n              //success\n              console.log(response.data);\n            }, function (error) {\n              console.log(error);\n            });\n            window.open(\"http://localhost:3000/owner\", \"_top\");\n          } else if (role === \"ROLE_MANAGER\") {\n            window.open(\"http://localhost:3000/manager\", \"_top\");\n          } else if (role === \"ROLE_RECEPTIONIST\") {\n            window.open(\"http://localhost:3000/receptionist\", \"_top\");\n          } else {\n            window.open(\"http://localhost:3000\", \"_top\");\n          }\n        }, function (error) {\n          console.log(error);\n          console.log(\"error\");\n        });\n      } else {\n        alert(\"Please fill in the correct data\");\n      }\n    }, function (error) {\n      console.log(error);\n      console.log(\"error\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"745px\",\n      backgroundColor: \"#99E2EB\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bgimage\",\n    style: {\n      margin: \"0px auto\",\n      width: \"35%\",\n      padding: \"90px\",\n      boxShadow: \"0px 0px 10px 0px grey\",\n      borderRadius: \"10px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"Hotel Management\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleForm,\n    style: {\n      width: \"90%\",\n      margin: \"0px auto\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"username\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    placeholder: \"Enter email here\",\n    name: \"username\",\n    id: \"username\",\n    onChange: function onChange(e) {\n      setLoginData(_objectSpread({}, loginData, {\n        username: e.target.value\n      }));\n    } //style={{width: 400}}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \"Password \"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Enter here\",\n    name: \"password\",\n    id: \"password\",\n    onChange: function onChange(e) {\n      setLoginData(_objectSpread({}, loginData, {\n        password: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    className: \"text-center my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"col-4\",\n    style: {\n      color: \"white\",\n      backgroundColor: \"#6c6c6c\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"reset\",\n    style: {\n      color: \"white\",\n      backgroundColor: \"#000000\"\n    },\n    className: \"mx-3 col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, \"Reset\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","Button","Container","Form","FormGroup","Input","axios","base_url","Login","document","title","loginData","setLoginData","jwtData","handleForm","e","console","log","sendDataToServer","preventDefault","data","post","headers","then","response","jwt","get","role","error","window","open","alert","width","height","backgroundColor","margin","padding","boxShadow","borderRadius","username","target","value","password","color"],"sources":["/Users/tyagi/Downloads/HotelManagementSystemFrontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Container, Form, FormGroup, Input } from \"reactstrap\";\nimport axios from \"axios\";\nimport base_url from \"../api/bootapi\";\n\n\nconst Login = () => {\n    useEffect(() => {\n        document.title = \"Login\";\n    }, []);\n\n    const [loginData, setLoginData] = useState({});\n    const [jwtData] = useState({});\n\n    // form handler function\n    const handleForm = (e) => {\n        console.log(loginData);\n        sendDataToServer(loginData);\n        e.preventDefault();\n    };\n\n\n    // function to post data on backend\n    const sendDataToServer = (data) => {\n        axios.post(`${base_url}ManageLogin/authenticate`, data, {\n            headers: {\n                \"Access-Control-Allow-Headers\": \"Content-Type\",\n                \"Access-Control-Allow-Methods\": \"*\"\n            }\n        }).then(\n            (response) => {\n                if (response.data.jwt != null) {\n                    // alert(\"jwt created successfully\");\n                    jwtData.jwt = response.data.jwt;\n                    axios.get(`${base_url}ManageLogin/login`, {\n                        headers: {\n                            \"Access-Control-Allow-Headers\": \"Content-Type\",\n                            \"Access-Control-Allow-Methods\": \"*\",\n                            \"Authorization\": `Bearer ${response.data.jwt}`\n                        }\n                    }\n                    ).then(\n                        (response) => {\n                            console.log(response);\n                            console.log(\"success\");\n                            var role = response.data;\n                            console.log(role);\n                            if (role === \"ROLE_OWNER\") {\n                                axios.post(`${base_url}ManageJwt/addjwt`, { \"id\": 1, \"jwt\": `${jwtData.jwt}` }, {\n                                    headers: {\n                                        \"Access-Control-Allow-Headers\": \"Content-Type\",\n                                        \"Access-Control-Allow-Methods\": \"*\"\n                                    }\n                                }).then(\n                                    (response) => {\n                                        //success\n                                        console.log(response.data);\n                                    },\n                                    (error) => {\n                                        console.log(error);\n                                    })\n                                window.open(\"http://localhost:3000/owner\", \"_top\");\n\n                            }\n                            else if (role === \"ROLE_MANAGER\") {\n                                window.open(\"http://localhost:3000/manager\", \"_top\");\n                            }\n                            else if (role === \"ROLE_RECEPTIONIST\") {\n                                window.open(\"http://localhost:3000/receptionist\", \"_top\");\n                            }\n                            else {\n                                window.open(\"http://localhost:3000\", \"_top\");\n                            }\n\n\n                        }, (error) => {\n                            console.log(error);\n                            console.log(\"error\");\n                        }\n                    )\n\n                } else {\n                    alert(\"Please fill in the correct data\");\n                }\n            }, (error) => {\n                console.log(error);\n                console.log(\"error\");\n            }\n        )\n    };\n\n    return (\n        <div >\n            <div style={{ width: \"100%\", height: \"745px\", backgroundColor: \"#99E2EB\" }}>\n\n                <br></br>\n                <br></br>\n                <br></br>\n                <div className=\"card bgimage\" style={{ margin: \"0px auto\", width: \"35%\", padding: \"90px\", boxShadow: \"0px 0px 10px 0px grey\", borderRadius: \"10px\" }}>\n                    <h1 className=\"text-center\">Hotel Management</h1>\n                    <h1 className=\"text-center\">Login</h1>\n                    <Form onSubmit={handleForm} style={{ width: \"90%\", margin: \"0px auto\" }}>\n                        <FormGroup>\n                            <label for=\"username\">Username</label>\n                            <Input\n                                type=\"email\"\n                                placeholder=\"Enter email here\"\n                                name=\"username\"\n                                id=\"username\"\n                                onChange={(e) => {\n                                    setLoginData({ ...loginData, username: e.target.value });\n                                }}\n                            //style={{width: 400}}\n                            />\n                        </FormGroup>\n                        <FormGroup>\n                            <label for=\"password\">Password </label>\n                            <Input\n                                type=\"password\"\n                                placeholder=\"Enter here\"\n                                name=\"password\"\n                                id=\"password\"\n                                onChange={(e) => {\n                                    setLoginData({ ...loginData, password: e.target.value });\n                                }}\n                            />\n                        </FormGroup>\n\n\n                        <Container className=\"text-center my-5\" >\n\n                            <Button type=\"submit\" className=\"col-4\" style={{ color: \"white\", backgroundColor: \"#6c6c6c\" }}>Login</Button>\n\n\n                            <Button type=\"reset\" style={{ color: \"white\", backgroundColor: \"#000000\" }} className=\"mx-3 col-4\">Reset</Button>\n                        </Container>\n                        <br></br>\n                    </Form>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}